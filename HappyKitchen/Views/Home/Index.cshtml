@{
    Layout = null;
}

@model HomeIndexViewModel


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--
      - primary meta tags
    -->
    <title>Happy Kitchen - Nơi ẩm thực thăng hoa</title>
    <meta name="title" content="Happy Kitchen - Nơi ẩm thực thăng hoa">
    <meta name="description" content="Team: TKT">

    <!--
      - favicon
    -->
    <link rel="shortcut icon" href="~/images/favicon.svg" type="image/svg+xml">

    <!--
      - google font link
    -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Forum&display=swap" rel="stylesheet">

    <!--
      - custom css link
    -->
    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/air-datepicker@3.3.2/air-datepicker.min.css">
    <!--
      - preload images
    -->
    <link rel="preload" as="image" href="~/images/hero-slider-1.jpg">
    <link rel="preload" as="image" href="~/images/hero-slider-2.jpg">
    <link rel="preload" as="image" href="~/images/hero-slider-3.jpg">

</head>

<body id="top">

    <!--
      - #PRELOADER
    -->

    <div class="preload" data-preaload>
        <div class="circle"></div>
        <p class="text">HAPPY KITCHEN</p>
    </div>





    <!--
      - #TOP BAR
    -->

    <div class="topbar">
        <div class="container">

            <address class="topbar-item">
                <div class="icon">
                    <ion-icon name="location-outline" aria-hidden="true"></ion-icon>
                </div>

                <span class="span">
                    Happy Kitchen, 01 Thảo Điền, Hồ Chí Minh, VN
                </span>
            </address>

            <div class="separator"></div>

            <div class="topbar-item item-2">
                <div class="icon">
                    <ion-icon name="time-outline" aria-hidden="true"></ion-icon>
                </div>

                <span class="span">Mở cửa : 8.00 AM - 10.00 PM</span>
            </div>

            <a href="tel:+11234567890" class="topbar-item link">
                <div class="icon">
                    <ion-icon name="call-outline" aria-hidden="true"></ion-icon>
                </div>

                <span class="span">+84 977139203</span>
            </a>

            <div class="separator"></div>

            <a href="mailto:booking@restaurant.com" class="topbar-item link">
                <div class="icon">
                    <ion-icon name="mail-outline" aria-hidden="true"></ion-icon>
                </div>

                <span class="span">happykitchenvn2025@gmail.com</span>
            </a>

        </div>
    </div>





    <!--
      - #HEADER
    -->

    <header class="header" data-header>
        <div class="container">

            <a href="#" class="logo">
                <img src="~/images/logo.png" width="160" height="50" alt="Happy Kitchen - Home">
            </a>

            <nav class="navbar" data-navbar>

                <button class="close-btn" aria-label="close menu" data-nav-toggler>
                    <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
                </button>

                <a href="#" class="logo">
                    <img src="~/images/logo.svg" width="160" height="50" alt="Happy Kitchen - Home">
                </a>

                <ul class="navbar-list">

                    <li class="navbar-item">
                        <a href="#home" class="navbar-link hover-underline active">
                            <div class="separator"></div>

                            <span class="span">Trang Chủ</span>
                        </a>
                    </li>

                    <li class="navbar-item">
                        <a href="#about" class="navbar-link hover-underline">
                            <div class="separator"></div>

                            <span class="span">Giới Thiệu</span>
                        </a>
                    </li>

                    <li class="navbar-item">
                        <a href="#menu" class="navbar-link hover-underline">
                            <div class="separator"></div>

                            <span class="span">Thực Đơn</span>
                        </a>
                    </li>

                    <li class="navbar-item">
                        <a href="#cart" class="navbar-link hover-underline">
                            <div class="separator"></div>

                            <span class="span">Giỏ hàng</span>
                        </a>
                    </li>

                    <li class="navbar-item">
                        <a href="#event" class="navbar-link hover-underline">
                            <div class="separator"></div>

                            <span class="span">Sự Kiện & Mẹo Vặt</span>
                        </a>
                    </li>

                    <li class="navbar-item">
                        <a href="#connect" class="navbar-link hover-underline">
                            <div class="separator"></div>

                            <span class="span">Kết Nối</span>
                        </a>
                    </li>

                </ul>

                <div class="text-center">
                    <p class="headline-1 navbar-title">Visit Us</p>

                    <address class="body-4">
                        Restaurant St, Delicious City, <br>
                        London 9578, UK
                    </address>

                    <p class="body-4 navbar-text">Open: 9.30 am - 2.30pm</p>

                    <a href="mailto:booking@grilli.com" class="body-4 sidebar-link">booking@grilli.com</a>

                    <div class="separator"></div>

                    <p class="contact-label">Booking Request</p>

                    <a href="tel:+88123123456" class="body-1 contact-number hover-underline">
                        +88-123-123456
                    </a>
                </div>

            </nav>

            <a href="#booking" class="btn btn-secondary">
                <span class="text text-1">Đặt Bàn</span>

                <span class="text text-2" aria-hidden="true">Đặt Bàn</span>
            </a>

            <button class="nav-open-btn" aria-label="open menu" data-nav-toggler>
                <span class="line line-1"></span>
                <span class="line line-2"></span>
                <span class="line line-3"></span>
            </button>

            <!-- Login Button / User Avatar -->
            <div class="login-container">
                @if (Context.Session.GetString("Email") != null)
                {
                    <!-- Avatar khi đã đăng nhập -->
                    <div id="userAvatar" class="user-avatar">
                        <img src="@Context.Session.GetString("Avatar")" class="avatar-img" alt="User" id="avatarDropdown">

                        <div class="dropdown-menu" id="userDropdown">
                            <div class="dropdown-arrow"></div>
                            <a class="dropdown-item" href="@Url.Action("Profile", "User")">
                                <i class="bi bi-person"></i>
                                Thông tin tài khoản
                            </a>
                            <a class="dropdown-item" href="reservations.html">
                                <i class="bi bi-calendar"></i>
                                Đơn đặt bàn
                            </a>
                            <a class="dropdown-item" href="reservations.html">
                                <i class="bi bi-calendar"></i>
                                Lịch sử đặt bàn
                            </a>
                            <hr class="dropdown-divider">
                            <a class="dropdown-item text-danger" href="@Url.Action("Logout", "User")">
                                <i class="bi bi-box-arrow-right"></i>
                                Đăng Xuất
                            </a>
                        </div>
                    </div>
                }
                else
                {
                    <!-- Nút đăng nhập khi chưa đăng nhập -->
                    <div id="loginButton" class="login-btn">
                        <a href="@Url.Action("Login", "User")" class="btn btn-outline-primary">
                            <i class="bi bi-person"></i>
                            <span>Đăng Nhập</span>
                        </a>
                    </div>
                }
            </div>


            <button class="nav-open-btn" aria-label="open menu" data-nav-toggler>
                <i class="bi bi-list"></i>
            </button>

            <div class="overlay" data-nav-toggler data-overlay></div>


        </div>
    </header>





    <main>
        <article>

            <!--
              - #HERO
            -->

            <section class="hero text-center" aria-label="home" id="home">

                <ul class="hero-slider" data-hero-slider>

                    <li class="slider-item active" data-hero-slider-item>

                        <div class="slider-bg">
                            <img src="~/images/hero-slider-1.jpg" width="1880" height="950" alt="" class="img-cover">
                        </div>

                        <p class="label-2 section-subtitle slider-reveal">Truyền Thống & Hương vị</p>

                        <h1 class="display-1 hero-title slider-reveal">
                            Ngon trọn vị <br>
                            Ấm trọn lòng
                        </h1>

                        <p class="body-2 hero-text slider-reveal">
                            Cùng gia đình, bạn bè tận hưởng sự thăng hoa của ẩm thực
                        </p>

                        <a href="@Url.Action("Menu","Home")" class="btn btn-primary slider-reveal">
                            <span class="text text-1">Xem Thực Đơn</span>

                            <span class="text text-2" aria-hidden="true">Xem Thực Đơn</span>
                        </a>

                    </li>

                    <li class="slider-item" data-hero-slider-item>

                        <div class="slider-bg">
                            <img src="~/images/hero-slider-2.jpg" width="1880" height="950" alt="" class="img-cover">
                        </div>

                        <p class="label-2 section-subtitle slider-reveal">Trải nghiệm tuyệt vời</p>

                        <h1 class="display-1 hero-title slider-reveal">
                            Nơi ẩm thực <br>
                            Thăng hoa
                        </h1>

                        <p class="body-2 hero-text slider-reveal">
                            Hương vị tuyệt hảo, trải nghiệm khó quên
                        </p>

                        <a href="@Url.Action("Menu","Home")" class="btn btn-primary slider-reveal">
                            <span class="text text-1">Xem Thực Đơn</span>

                            <span class="text text-2" aria-hidden="true">Xem Thực Đơn</span>
                        </a>

                    </li>

                    <li class="slider-item" data-hero-slider-item>

                        <div class="slider-bg">
                            <img src="~/images/hero-slider-3.jpg" width="1880" height="950" alt="" class="img-cover">
                        </div>

                        <p class="label-2 section-subtitle slider-reveal">Ngon & Hoàn Hảo</p>

                        <h1 class="display-1 hero-title slider-reveal">
                            Tinh hoa ẩm thực <br>
                            Trọn vẹn yêu thương
                        </h1>

                        <p class="body-2 hero-text slider-reveal">
                            Chất lượng trong từng món ăn, tận tâm trong từng phục vụ
                        </p>

                        <a href="@Url.Action("Menu","Home")" class="btn btn-primary slider-reveal">
                            <span class="text text-1">Xem Thực Đơn</span>

                            <span class="text text-2" aria-hidden="true">Xem Thực Đơn</span>
                        </a>

                    </li>

                </ul>

                <button class="slider-btn prev" aria-label="slide to previous" data-prev-btn>
                    <ion-icon name="chevron-back"></ion-icon>
                </button>

                <button class="slider-btn next" aria-label="slide to next" data-next-btn>
                    <ion-icon name="chevron-forward"></ion-icon>
                </button>

                <a href="#booking" class="hero-btn has-after">
                    <img src="~/images/hero-icon.png" width="48" height="48" alt="booking icon">

                    <span class="label-2 text-center span">Đặt bàn</span>
                </a>

            </section>





            <!--
              - #SERVICE
            -->

            <section class="section service bg-black-10 text-center" aria-label="service">
                <div class="container">

                    <p class="section-subtitle label-2">Hương vị cho quý tộc</p>

                    <h2 class="headline-1 section-title">Ẩm Thực Thăng Hoa</h2>

                    <p class="section-text">
                        Tại Happy Kitchen, mỗi món ăn là một tác phẩm tinh tế, kết hợp nguyên liệu thượng hạng và kỹ thuật chế biến điêu luyện.
                        Chúng tôi đặt chất lượng và trải nghiệm khách hàng lên hàng đầu, mang đến hương vị tuyệt hảo và dịch vụ chu đáo. Đến với Happy Kitchen, tận hưởng sự hoàn mỹ trong từng bữa ăn!
                    </p>

                    <ul class="grid-list">

                        <li>
                            <div class="service-card">

                                <a href="@Url.Action("Menu","Home")" class="has-before hover:shine">
                                    <figure class="card-banner img-holder" style="--width: 285; --height: 336;">
                                        <img src="~/images/service-1.jpg" width="285" height="336" loading="lazy" alt="Breakfast"
                                             class="img-cover">
                                    </figure>
                                </a>

                                <div class="card-content">

                                    <h3 class="title-4 card-title">
                                        <a href="@Url.Action("Menu","Home")">Khai Vị</a>
                                    </h3>

                                    <a href="@Url.Action("Menu", "Home")" class="btn-text hover-underline label-2">Xem Thực Đơn</a>

                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="service-card">

                                <a href="@Url.Action("Menu", "Home")" class="has-before hover:shine">
                                    <figure class="card-banner img-holder" style="--width: 285; --height: 336;">
                                        <img src="~/images/service-2.jpg" width="285" height="336" loading="lazy" alt="Appetizers"
                                             class="img-cover">
                                    </figure>
                                </a>

                                <div class="card-content">

                                    <h3 class="title-4 card-title">
                                        <a href="@Url.Action("Menu", "Home")">Món Chính</a>
                                    </h3>

                                    <a href="@Url.Action("Menu", "Home")" class="btn-text hover-underline label-2">Xem Thực Đơn</a>

                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="service-card">

                                <a href="@Url.Action("Menu","Home")" class="has-before hover:shine">
                                    <figure class="card-banner img-holder" style="--width: 285; --height: 336;">
                                        <img src="~/images/service-3.jpg" width="285" height="336" loading="lazy" alt="Drinks"
                                             class="img-cover">
                                    </figure>
                                </a>

                                <div class="card-content">

                                    <h3 class="title-4 card-title">
                                        <a href="@Url.Action("Menu","Home")">Đồ Uống</a>
                                    </h3>

                                    <a href="@Url.Action("Menu","Home")" class="btn-text hover-underline label-2">Xem Thực Đơn</a>

                                </div>

                            </div>
                        </li>

                    </ul>

                    <img src="~/images/shape-1.png" width="246" height="412" loading="lazy" alt="shape"
                         class="shape shape-1 move-anim">
                    <img src="~/images/shape-2.png" width="343" height="345" loading="lazy" alt="shape"
                         class="shape shape-2 move-anim">

                </div>
            </section>





            <!--
              - #ABOUT
            -->

            <section class="section about text-center" aria-labelledby="about-label" id="about">
                <div class="container">

                    <div class="about-content">

                        <p class="label-2 section-subtitle" id="about-label">Về Chúng Tôi</p>

                        <h2 class="headline-1 section-title">Mỗi Hương Vị Là Một Câu Chuyện</h2>

                        <p class="section-text">
                            Happy Kitchen được thành lập với sứ mệnh mang đến những bữa ăn chất lượng, kết hợp giữa hương vị thơm ngon và tiêu chuẩn an toàn thực phẩm cao.
                            Nhà hàng ra đời từ niềm đam mê ẩm thực và mong muốn tạo ra một không gian ấm cúng, nơi mọi người có thể thưởng thức những món ăn tinh tế trong bầu không khí thư giãn.
                        </p>

                        <div class="contact-label">Đặt Bàn Qua</div>

                        <a href="tel:+804001234567" class="body-1 contact-number hover-underline">+84 977139203</a>

                        <a href="@Url.Action("AboutUs", "Home")" class="btn btn-primary">
                            <span class="text text-1">Xem Thêm</span>

                            <span class="text text-2" aria-hidden="true">Xem Thêm</span>
                        </a>

                    </div>

                    <figure class="about-banner">

                        <img src="~/images/about-banner.jpg" width="570" height="570" loading="lazy" alt="about banner"
                             class="w-100" data-parallax-item data-parallax-speed="1">

                        <div class="abs-img abs-img-1 has-before" data-parallax-item data-parallax-speed="1.75">
                            <img src="~/images/about-abs-image.jpg" width="285" height="285" loading="lazy" alt=""
                                 class="w-100">
                        </div>

                        <div class="abs-img abs-img-2 has-before">
                            <img src="~/images/badge-2.png" width="133" height="134" loading="lazy" alt="">
                        </div>

                    </figure>

                    <img src="~/images/shape-3.png" width="197" height="194" loading="lazy" alt="" class="shape">

                </div>
            </section>





            <!--
              - #SPECIAL DISH
            -->

            <section class="special-dish text-center" aria-labelledby="dish-label">

                <div class="special-dish-banner">
                    <img src="~/images/special-dish-banner.jpg" width="940" height="900" loading="lazy" alt="special dish"
                         class="img-cover">
                </div>

                <div class="special-dish-content bg-black-10">
                    <div class="container">

                        <img src="~/images/badge-1.png" width="28" height="41" loading="lazy" alt="badge" class="abs-img">

                        <p class="section-subtitle label-2">Món Đặc Biệt</p>

                        <h2 class="headline-1 section-title">Bò Lúc Lắc Sốt Tiêu Đen</h2>

                        <p class="section-text">
                            Bò lúc lắc sốt tiêu đen là món ăn thơm ngon với thịt bò cắt khối vuông, xào nhanh trên lửa lớn cùng hành tây, ớt chuông và sốt tiêu đen đậm đà.
                            Thịt bò mềm, ngấm gia vị, kết hợp với vị cay nồng của tiêu đen, tạo nên hương vị hấp dẫn, thích hợp dùng kèm cơm trắng hoặc bánh mì.
                        </p>

                        <div class="wrapper">
                            <del class="del body-3">269.000 VNĐ</del>

                            <span class="span body-1">139.000 VNĐ</span>
                        </div>

                        <a href="@Url.Action("Menu","Home")" class="btn btn-primary">
                            <span class="text text-1">Xem Thực Đơn</span>

                            <span class="text text-2" aria-hidden="true">Xem Thực Đơn</span>
                        </a>

                    </div>
                </div>

                <img src="~/images/shape-4.png" width="179" height="359" loading="lazy" alt="" class="shape shape-1">

                <img src="~/images/shape-9.png" width="351" height="462" loading="lazy" alt="" class="shape shape-2">

            </section>





            <!--
              - #MENU
            -->

            <section class="section menu" aria-label="menu-label" id="menu">
                <div class="container">

                    <p class="section-subtitle text-center label-2">Sự Lựa Chọn Đặc Biệt</p>

                    <h2 class="headline-1 section-title text-center">Thực Đơn</h2>

                    <ul class="grid-list">

                        <li>
                            <div class="menu-card hover:card">
                                <a href="@Url.Action("Menu", "Home")">
                                    <figure class="card-banner img-holder" style="--width: 100; --height: 100;">
                                        <img src="~/images/menu-1.png" width="100" height="100" loading="lazy" alt="Bò Lúc Lắc Sốt Tiêu Đen"
                                             class="img-cover">
                                    </figure>
                                </a>
                                <div>

                                    <div class="title-wrapper">
                                        <h3 class="title-3">
                                            <a href="@Url.Action("Menu", "Home")" class="card-title">Bò Lúc Lắc Sốt Tiêu Đen</a>
                                        </h3>

                                        <span class="badge label-1">Đặc Biệt</span>

                                        <span class="span title-2">139.000 VNĐ</span>
                                    </div>

                                    <p class="card-text label-1">
                                        Thịt bò, ớt chuông, hành tây, tiêu đen, nước sốt đặc biệt.
                                    </p>

                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="menu-card hover:card">
                                <a href="@Url.Action("Menu", "Home")">
                                    <figure class="card-banner img-holder" style="--width: 100; --height: 100;">
                                        <img src="~/images/menu-2.png" width="100" height="100" loading="lazy" alt="Lasagne"
                                             class="img-cover">
                                    </figure>
                                </a>
                                <div>

                                    <div class="title-wrapper">
                                        <h3 class="title-3">
                                            <a href="@Url.Action("Menu", "Home")" class="card-title">Chè Khúc Bạch</a>
                                        </h3>

                                        <span class="span title-2">49.000 VNĐ</span>
                                    </div>

                                    <p class="card-text label-1">
                                        Sữa tươi, gelatin, hạnh nhân, vải thiều, nhãn, đường phèn.
                                    </p>

                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="menu-card hover:card">
                                <a href="@Url.Action("Menu", "Home")">
                                    <figure class="card-banner img-holder" style="--width: 100; --height: 100;">
                                        <img src="~/images/menu-3.png" width="100" height="100" loading="lazy" alt="Butternut Pumpkin"
                                             class="img-cover">
                                    </figure>
                                </a>
                                <div>

                                    <div class="title-wrapper">
                                        <h3 class="title-3">
                                            <a href="@Url.Action("Menu", "Home")" class="card-title">Sườn Heo Nướng Mật Ong</a>
                                        </h3>

                                        <span class="span title-2">129.000 VNĐ</span>
                                    </div>

                                    <p class="card-text label-1">
                                        Sườn heo tươi, mật ong nguyên chất, tỏi, ngũ vị hương, xì dầu, tiêu đen.
                                    </p>

                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="menu-card hover:card">
                                <a href="@Url.Action("Menu", "Home")">
                                    <figure class="card-banner img-holder" style="--width: 100; --height: 100;">
                                        <img src="~/images/menu-4.png" width="100" height="100" loading="lazy" alt="Tokusen Wagyu"
                                             class="img-cover">
                                    </figure>
                                </a>
                                <div>

                                    <div class="title-wrapper">
                                        <h3 class="title-3">
                                            <a href="@Url.Action("Menu", "Home")" class="card-title">Bánh Flank Caramel</a>
                                        </h3>
                                        <span class="badge label-1">Mới</span>
                                        <span class="span title-2">39.000 VNĐ</span>
                                    </div>

                                    <p class="card-text label-1">
                                        Trứng, sữa, đường, caramel.
                                    </p>

                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="menu-card hover:card">
                                <a href="@Url.Action("Menu", "Home")">
                                    <figure class="card-banner img-holder" style="--width: 100; --height: 100;">
                                        <img src="~/images/menu-5.png" width="100" height="100" loading="lazy" alt="Olivas Rellenas"
                                             class="img-cover">
                                    </figure>
                                </a>
                                <div>

                                    <div class="title-wrapper">
                                        <h3 class="title-3">
                                            <a href="@Url.Action("Menu", "Home")" class="card-title">Gỏi Ngó Sen Tôm Thịt</a>
                                        </h3>

                                        <span class="span title-2">89.000 VNĐ</span>
                                    </div>

                                    <p class="card-text label-1">
                                        Ngó sen, tôm, thịt heo, rau răm, đậu phộng, nước mắm chua ngọt.
                                    </p>

                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="menu-card hover:card">
                                <a href="@Url.Action("Menu", "Home")">
                                    <figure class="card-banner img-holder" style="--width: 100; --height: 100;">
                                        <img src="~/images/menu-6.png" width="100" height="100" loading="lazy" alt="Tiramisu Mềm Mịn"
                                             class="img-cover">
                                    </figure>
                                </a>
                                <div>

                                    <div class="title-wrapper">
                                        <h3 class="title-3">
                                            <a href="@Url.Action("Menu", "Home")" class="card-title">Tiramisu Mềm Mịn</a>
                                        </h3>

                                        <span class="span title-2">65.000 VNĐ</span>
                                    </div>

                                    <p class="card-text label-1">
                                        Bánh ladyfinger, mascarpone, cacao, cà phê.
                                    </p>

                                </div>

                            </div>
                        </li>

                    </ul>

                    <p class="menu-text text-center">
                        Thực đơn cho mọi ngày từ <span class="span">9:00 am</span> to <span class="span">10:00 pm</span>
                    </p>

                    <a href="@Url.Action("Menu", "Home")" class="btn btn-primary">
                        <span class="text text-1">Xem Tất Cả</span>

                        <span class="text text-2" aria-hidden="true">Xem Tất Cả</span>
                    </a>

                    <img src="~/images/shape-5.png" width="921" height="1036" loading="lazy" alt="shape"
                         class="shape shape-2 move-anim">
                    <img src="~/images/shape-6.png" width="343" height="345" loading="lazy" alt="shape"
                         class="shape shape-3 move-anim">

                </div>
            </section>





            <!--
              - #TESTIMONIALS
            -->

            <section class="section testi text-center has-bg-image"
                     style="background-image: url('~/images/testimonial-bg.jpg')" aria-label="testimonials">
                <div class="container">

                    <div class="quote">”</div>

                    <p class="headline-2 testi-text">
                        Tôi muốn cảm ơn bạn vì đã mời tôi đến dùng bữa tối tại nhà hàng. Đồ ăn thật tuyệt vời!
                    </p>

                    <div class="wrapper">
                        <div class="separator"></div>
                        <div class="separator"></div>
                        <div class="separator"></div>
                    </div>

                    <div class="profile">
                        <div>
                            <img src="~/images/tuan_avt.jpg" width="100" height="100" loading="lazy" alt="Anh Tuấn"
                                 class="img">

                            <p class="label-2 profile-name">Anh Tuấn</p>
                        </div>
                        <div>
                            <img src="~/images/thien_avt.jpg" width="100" height="100" loading="lazy" alt="Mạnh Thiên"
                                 class="img">

                            <p class="label-2 profile-name">Mạnh Thiên</p>
                        </div>
                        <div>
                            <img src="~/images/khoa_avt.jpg" width="100" height="100" loading="lazy" alt="Đăng Khoa"
                                 class="img">

                            <p class="label-2 profile-name">Đăng Khoa</p>
                        </div>
                    </div>


                </div>
            </section>





            <!--
              - #RESERVATION
            -->

            <section class="reservation" id="booking">
                <div class="container">

                    <div class="form reservation-form bg-black-10">

                        <form method="post" action="@Url.Action("Menuing", "Reservation")" class="form-left">

                            <h2 class="headline-1 text-center">Đặt Bàn Trực Tuyến</h2>

                            <p class="form-text text-center">
                                Yêu cầu đặt bàn <a href="tel:+84977139203" class="link">+84 977139203</a>
                                hoặc điền vào mẫu đặt bàn
                            </p>

                            <div class="input-wrapper">
                                @if (Model?.Cart?.ReservationInformation  == null)
                                {

                                    <input type="text" name="name" placeholder="Họ & Tên" autocomplete="off" class="input-field" required />
                                    <input type="tel" name="phone" placeholder="Số Điện Thoại" autocomplete="off" class="input-field" required />
                                }
                                else
                                {
                                    <input type="text" name="name" value="@Model.Cart.ReservationInformation.CustomerName" placeholder="Họ & Tên" autocomplete="off" class="input-field" disabled required />
                                    <input type="tel" name="phone" value="@Model.Cart.ReservationInformation.CustomerPhone" placeholder="Số Điện Thoại" autocomplete="off" class="input-field" disabled required />
                                }
                            </div>

                            <div class="input-wrapper">

                                <div class="icon-wrapper">
                                    <ion-icon name="person-outline" aria-hidden="true"></ion-icon>

                                    @if (Model?.Cart?.ReservationInformation == null)
                                    {
                                        <select id="people" name="person" class="input-field" required>
                                            <option value="" disabled selected>Chọn sức chứa</option>
                                            @for (int i = 1; i <= 10; i++)
                                            {
                                                <option value="@i">@i Người</option>
                                            }
                                        </select>
                                    }
                                    else if (Model?.Cart != null)
                                    {
                                        <select id="people" name="person" class="input-field" disabled required>
                                            <option value="" disabled>Chọn sức chứa</option>
                                            @for (int i = 1; i <= 10; i++)
                                            {
                                                if (Model.Cart.ReservationInformation.Capacity == i)
                                                {
                                                    <option value="@i" selected>@i Người</option>
                                                }
                                                else
                                                {
                                                    <option value="@i">@i Người</option>
                                                }
                                            }
                                        </select>
                                    }

                                    <ion-icon name="chevron-down" aria-hidden="true"></ion-icon>
                                </div>

                                @if (Model?.Cart?.ReservationInformation == null)
                                {
                                    <div class="icon-wrapper">
                                        <ion-icon name="calendar-clear-outline" aria-hidden="true"></ion-icon>

                                        <input type="text" id="reservationDate" name="reservationDate" class="input-field" placeholder="Chọn ngày giờ">

                                        <ion-icon name="chevron-down" aria-hidden="true"></ion-icon>
                                    </div>
                                }
                                else
                                {
                                    <div class="icon-wrapper">
                                        <ion-icon name="calendar-clear-outline" aria-hidden="true"></ion-icon>
                                        <input type="text" id="reservationDate" name="reservationDate" value="@Model.Cart.ReservationInformation.ReservationTime.ToString("dd/MM/yyyy HH:mm")" class="input-field" placeholder="Chọn ngày giờ" disabled required />
                                        <ion-icon name="chevron-down" aria-hidden="true"></ion-icon>
                                    </div>
                                }

                                <div class="icon-wrapper">
                                    <ion-icon name="person-outline" aria-hidden="true"></ion-icon>
                                    
                                    @if (Model?.Cart?.ReservationInformation == null)
                                    {
                                        <select id="duration" name="duration" class="input-field" required>
                                            <option value="" disabled selected>Chọn thời lượng</option>
                                            <option value="1">1 giờ</option>
                                            <option value="2">2 giờ</option>
                                            <option value="3">3 giờ</option>
                                            <option value="4">4 giờ</option>
                                        </select>
                                    }
                                    else if (Model?.Cart != null)
                                    {
                                        <select id="duration" name="duration" class="input-field" disabled required>
                                            <option value="" disabled>Chọn thời lượng</option>
                                            @for (int i = 1; i <= 4; i++)
                                            {
                                                if (Model.Cart.ReservationInformation.Duration == i)
                                                {
                                                    <option value="@i" selected>@i giờ</option>
                                                }
                                                else
                                                {
                                                    <option value="@i">@i giờ</option>
                                                }
                                            }
                                        </select>
                                    }

                                    <ion-icon name="chevron-down" aria-hidden="true"></ion-icon>
                                </div>



                            </div>

                            <div class="icon-wrapper">
                                <ion-icon name="person-outline" aria-hidden="true"></ion-icon>

                                @if (Model?.Cart?.ReservationInformation == null)
                                {
                                    <select id="table" name="table" class="input-field" required>
                                        <option value="" disabled selected>Chọn bàn</option>

                                    </select>
                                }
                                else if (Model?.Cart != null)
                                {
                                    <select id="table" name="table" class="input-field" disabled required>
                                        <option value="" disabled>Chọn bàn</option>
                                        @foreach (var table in Model?.Tables ?? new List<Table>())
                                        {
                                            if (Model.Cart.ReservationInformation.TableID == table.TableID)
                                            {
                                                <option value="@table.TableID" selected>@table.TableName</option>
                                            }

                                        }
                                    </select>
                                }

                                <ion-icon name="chevron-down" aria-hidden="true"></ion-icon>
                            </div>

                            @if (Model?.Cart?.ReservationInformation == null)
                            {
                                <textarea name="message" placeholder="Ghi Chú" autocomplete="off" class="input-field"></textarea>

                                <button type="submit" class="btn btn-secondary">
                                    <span class="text text-1">Đặt Bàn</span>

                                    <span class="text text-2" aria-hidden="true">Đặt Bàn</span>
                                </button>
                            }
                            else if (Model?.Cart != null)
                            {
                                <textarea name="message" class="input-field" readonly>@Model.Cart.ReservationInformation.Notes</textarea>

                                <a href="#cart" class="btn btn-secondary">
                                    <span class="text text-1" style="text-align: center;">Trở lại giỏ hàng</span>

                                    <span class="text text-2" aria-hidden="true">Trở lại giỏ hàng</span>
                                </a>
                            }
                            

                        </form>

                        <div class="form-right text-center" style="background-image: url('~/images/form-pattern.png')">

                            <h2 class="headline-1 text-center">Liên Hệ</h2>

                            <p class="contact-label">Đặt Bàn</p>

                            <a href="tel:+88123123456" class="body-1 contact-number hover-underline">+84 977139203</a>

                            <div class="separator"></div>

                            <p class="contact-label">Địa Chỉ</p>

                            <address class="body-4">
                                Hồ Chí Minh, VN <br>
                                Happy Kitchen, 01 Thảo Điền
                            </address>

                            <p class="contact-label">Bữa Trưa</p>

                            <p class="body-4">
                                Thứ 2 - Chủ Nhật <br>
                                11.00 am - 2.30pm
                            </p>

                            <p class="contact-label">Bữa Tối</p>

                            <p class="body-4">
                                Thứ 2 - Chủ Nhật <br>
                                05.00 pm - 10.00pm
                            </p>

                        </div>

                    </div>

                </div>
            </section>





            <!--
              - #FEATURES
            -->

            <section class="section features text-center" aria-label="features">
                <div class="container">

                    <p class="section-subtitle label-2">Tại sao nên chọn chúng tôi</p>

                    <h2 class="headline-1 section-title">Thế Mạnh</h2>

                    <ul class="grid-list">

                        <li class="feature-item">
                            <div class="feature-card">

                                <div class="card-icon">
                                    <img src="~/images/features-icon-1.png" width="100" height="80" loading="lazy" alt="icon">
                                </div>

                                <h3 class="title-2 card-title">Thực Phẩm Sạch</h3>

                                <p class="label-1 card-text">Nhà hàng cam kết sử dụng nguyên liệu tươi ngon, đảm bảo vệ sinh an toàn thực phẩm.</p>

                            </div>
                        </li>

                        <li class="feature-item">
                            <div class="feature-card">

                                <div class="card-icon">
                                    <img src="~/images/features-icon-2.png" width="100" height="80" loading="lazy" alt="icon">
                                </div>

                                <h3 class="title-2 card-title">Không Gian Thoáng Mát</h3>

                                <p class="label-1 card-text">Thiết kế hiện đại, sạch sẽ, mang đến trải nghiệm thư giãn và thoải mái.</p>

                            </div>
                        </li>

                        <li class="feature-item">
                            <div class="feature-card">

                                <div class="card-icon">
                                    <img src="~/images/features-icon-3.png" width="100" height="80" loading="lazy" alt="icon">
                                </div>

                                <h3 class="title-2 card-title">Đầu Bếp Chuyên Nghiệp</h3>

                                <p class="label-1 card-text">Đội ngũ đầu bếp tay nghề cao, sáng tạo, mang đến hương vị tuyệt hảo.</p>

                            </div>
                        </li>

                        <li class="feature-item">
                            <div class="feature-card">

                                <div class="card-icon">
                                    <img src="~/images/features-icon-4.png" width="100" height="80" loading="lazy" alt="icon">
                                </div>

                                <h3 class="title-2 card-title">Sự Kiện & Tiệc</h3>

                                <p class="label-1 card-text">Không gian linh hoạt, sang trọng phù hợp tổ chức tiệc sinh nhật, liên hoan, sự kiện quan trọng.</p>

                            </div>
                        </li>

                    </ul>

                    <img src="~/images/shape-7.png" width="208" height="178" loading="lazy" alt="shape"
                         class="shape shape-1">

                    <img src="~/images/shape-8.png" width="120" height="115" loading="lazy" alt="shape"
                         class="shape shape-2">

                </div>
            </section>





            <!--
              - #EVENT
            -->
            <style>/* Order preview */
                .order-preview {
                    background-color: var(--gray-dark);
                    border-radius: 8px;
                    overflow: hidden;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                }

                .order-header {
                    background-color: var(--black);
                    padding: 1.5rem;
                    border-bottom: 1px solid var(--gold-crayola);
                }

                .order-title {
                    color: var(--gold-crayola);
                    text-align: center;
                }

                .order-items {
                    padding: 0;
                }

                .order-item {
                    display: flex;
                    align-items: center;
                    padding: 1.5rem;
                    border-bottom: 1px solid var(--gray-light);
                    transition: background-color 0.3s ease;
                }

                .order-item:hover {
                    background-color: var(--gray-medium);
                }

                .item-image {
                    width: 80px;
                    height: 80px;
                    border-radius: 8px;
                    object-fit: cover;
                    margin-right: 1.5rem;
                }

                .item-details {
                    flex-grow: 1;
                }

                .item-name {
                    color: var(--gold-crayola);
                    margin-bottom: 0.5rem;
                }

                .item-description {
                    color: var(--white);
                    opacity: 0.7;
                    margin-bottom: 0.5rem;
                }

                .item-price-row {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }

                .item-quantity {
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    background-color: var(--gold-crayola);
                    color: var(--black);
                    width: 24px;
                    height: 24px;
                    border-radius: 50%;
                    font-weight: bold;
                    margin-right: 0.5rem;
                }

                .item-price {
                    color: var(--gold-crayola);
                    font-weight: bold;
                }

                .item-total {
                    color: var(--gold-crayola);
                    font-weight: bold;
                }

                /* Order summary */
                .order-summary {
                    padding: 1.5rem;
                    background-color: var(--black);
                    border-top: 1px solid var(--gold-crayola);
                }

                .summary-row {
                    display: flex;
                    justify-content: space-between;
                    margin-bottom: 0.75rem;
                }

                .summary-label {
                    color: var(--white);
                }

                .summary-value {
                    color: var(--gold-crayola);
                    font-weight: bold;
                }

                .total-row {
                    display: flex;
                    justify-content: space-between;
                    margin-top: 1rem;
                    padding-top: 1rem;
                    border-top: 1px solid var(--gray-light);
                }

                .total-label {
                    color: var(--gold-crayola);
                    font-size: 1.2rem;
                    font-weight: bold;
                }

                .total-value {
                    color: var(--gold-crayola);
                    font-size: 1.2rem;
                    font-weight: bold;
                }

                
                /* Responsive */
                @@media (max-width: 768px) {
                    .container {
                        padding: 1rem;
                    }

                    .order-item {
                        flex-direction: column;
                        align-items: flex-start;
                    }

                    .item-image {
                        width: 100%;
                        height: 150px;
                        margin-right: 0;
                        margin-bottom: 1rem;
                    }

                    .item-price-row {
                        margin-top: 0.5rem;
                        width: 100%;
                    }

                    .action-buttons {
                        flex-direction: column;
                        gap: 1rem;
                    }

                    .button {
                        width: 100%;
                    }
                }   
            </style>
            <section class="section event bg-black-10" aria-label="event" id="cart">
                <div class="container">

                    <p class="section-subtitle label-2 text-center">Cập Nhật Mới</p>

                    <h2 class="section-title headline-1 text-center">Giỏ hàng của bạn</h2>

                    <div class="container">

                        <div class="order-preview">
                            <div class="order-header">
                                <h2 class="order-title">Danh Sách Món Đã Chọn</h2>
                            </div>
                            <div class="order-items" id="order-items">
                                <!-- Order items will be dynamically added here -->
                            </div>
                            <div class="order-summary">
                                <div class="summary-row">
                                    <span class="summary-label">Tạm tính:</span>
                                    <span class="summary-value" id="subtotal">0 đ</span>
                                </div>
                                <div class="summary-row">
                                    <span class="summary-label">Giảm giá:</span>
                                    <span class="summary-value" id="discount">0 đ</span>
                                </div>
                                <div class="summary-row">
                                    <span class="summary-label">Thuế (10%):</span>
                                    <span class="summary-value" id="tax">0 đ</span>
                                </div>
                                <div class="total-row">
                                    <span class="total-label">Tổng cộng:</span>
                                    <span class="total-value" id="total">0 đ</span>
                                </div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <a href="#" class="btn btn-primary back-button">
                                <span class="text text-">Quay lại thực đơn</span>
                                <span class="text text-2" aria-hidden="true">Quay lại thực đơn</span>
                            </a>
                            <a href="javascript:void(0)" onclick="submitCartToDishChecking()" class="btn btn-secondary proceed-button">
                                <span class="text text-1">Tiếp tục thanh toán</span>
                                <span class="text text-2" aria-hidden="true">Tiếp tục thanh toán</span>
                            </a>
                        </div>
                    </div>

                </div>
            </section>

        
    


    <!--- #EVENT-->

            <section class="section event bg-black-10" aria-label="event" id="event">
                <div class="container">

                    <p class="section-subtitle label-2 text-center">Cập Nhật Mới</p>

                    <h2 class="section-title headline-1 text-center">Sự Kiện Sắp Tới</h2>

                    <ul class="grid-list">

                        <li>
                            <div class="event-card has-before hover:shine">

                                <div class="card-banner img-holder" style="--width: 350; --height: 450;">
                                    <img src="~/images/event-1.jpg" width="350" height="450" loading="lazy"
                                         alt="Flavour so good you’ll try to eat with your eyes." class="img-cover">

                                    <time class="publish-date label-2" datetime="2025-03-03">03/03/2025</time>
                                </div>

                                <div class="card-content">
                                    <p class="card-subtitle label-2 text-center">Đồ Ăn, Hương Vị</p>

                                    <h3 class="card-title title-2 text-center">
                                        Hương vị tuyệt hảo, nhìn thôi cũng muốn thưởng thức!
                                    </h3>
                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="event-card has-before hover:shine">

                                <div class="card-banner img-holder" style="--width: 350; --height: 450;">
                                    <img src="~/images/event-2.jpg" width="350" height="450" loading="lazy"
                                         alt="Flavour so good you’ll try to eat with your eyes." class="img-cover">

                                    <time class="publish-date label-2" datetime="2025-03-03">03/03/2025</time>
                                </div>

                                <div class="card-content">
                                    <p class="card-subtitle label-2 text-center">Thực Phẩm Sạch</p>

                                    <h3 class="card-title title-2 text-center">
                                        Thực phẩm lành mạnh mang đến sức khỏe tốt và năng lượng tràn đầy mỗi ngày.
                                    </h3>
                                </div>

                            </div>
                        </li>

                        <li>
                            <div class="event-card has-before hover:shine">

                                <div class="card-banner img-holder" style="--width: 350; --height: 450;">
                                    <img src="~/images/event-3.jpg" width="350" height="450" loading="lazy"
                                         alt="Flavour so good you’ll try to eat with your eyes." class="img-cover">

                                    <time class="publish-date label-2" datetime="2025-03-03">03/03/2025</time>
                                </div>

                                <div class="card-content">
                                    <p class="card-subtitle label-2 text-center">Công Thức</p>

                                    <h3 class="card-title title-2 text-center">
                                        Công thức hoàn hảo tạo nên hương vị độc đáo và hấp dẫn.
                                    </h3>
                                </div>

                            </div>
                        </li>

                    </ul>

                    <a href="@Url.Action("Event","Home")" class="btn btn-primary">
                        <span class="text text-1">Xem Blog Của Chúng Tôi</span>

                        <span class="text text-2" aria-hidden="true">Xem Blog Của Chúng Tôi</span>
                    </a>

                </div>
            </section>

        </article>
    </main>



    <!--
      - #FOOTER
    -->

    <footer class="footer section has-bg-image text-center" id="connect"
            style="background-image: url('~/images/footer-bg.jpg')">
        <div class="container">

            <div class="footer-top grid-list">

                <div class="footer-brand has-before has-after">

                    <a href="#" class="logo">
                        <img src="~/images/logo.svg" width="160" height="50" loading="lazy" alt="grilli home">
                    </a>

                    <address class="body-4">
                        Happy Kitchen, 01 Thảo Điền, Hồ Chí Minh, VN
                    </address>

                    <a href="mailto:booking@grilli.com" class="body-4 contact-link">happykitchenvn2025@gmail.com</a>

                    <a href="tel:+84977139203" class="body-4 contact-link">Yêu cầu đặt bàn : +84 977139203</a>

                    <p class="body-4">
                        Mở cửa: 09:00 AM - 10:00 PM
                    </p>

                    <div class="wrapper">
                        <div class="separator"></div>
                        <div class="separator"></div>
                        <div class="separator"></div>
                    </div>

                    <p class="title-1">Tin tức & Giảm giá</p>

                    <p class="label-1">
                        Đăng ký với chúng tôi và nhận giảm giá <span class="span">25%.</span>
                    </p>

                    <form action="" class="input-wrapper">
                        <div class="icon-wrapper">
                            <ion-icon name="mail-outline" aria-hidden="true"></ion-icon>

                            <input type="email" name="email_address" placeholder="Email của bạn" autocomplete="off" class="input-field">
                        </div>

                        <button type="submit" class="btn btn-secondary">
                            <span class="text text-1">Đăng Ký</span>

                            <span class="text text-2" aria-hidden="true">Đăng Ký</span>
                        </button>
                    </form>

                </div>

                <ul class="footer-list">

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Trang Chủ</a>
                    </li>

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Thực Đơn</a>
                    </li>

                    <li>
                        <a href="#about" class="label-2 footer-link hover-underline">Giới Thiệu</a>
                    </li>

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Đầu Bếp</a>
                    </li>

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Liên Hệ</a>
                    </li>

                </ul>

                <ul class="footer-list">

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Facebook</a>
                    </li>

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Instagram</a>
                    </li>

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Twitter</a>
                    </li>

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Youtube</a>
                    </li>

                    <li>
                        <a href="#" class="label-2 footer-link hover-underline">Google Map</a>
                    </li>

                </ul>

            </div>

            <div class="footer-bottom">

                <p class="copyright">
                    &copy; 2025 Happy Kitchen. All Rights Reserved | Crafted by <a href="https://github.com/"
                                                                                   target="_blank" class="link">TKT Team</a>
                </p>

            </div>

        </div>
    </footer>





    <!--
      - #BACK TO TOP
    -->

    <a href="#top" class="back-top-btn active" aria-label="back to top" data-back-top-btn>
        <ion-icon name="chevron-up" aria-hidden="true"></ion-icon>
    </a>





    <!--
      - custom js link
    -->
    <script src="~/js/script.js"></script>
    <!--chỉnh sửa hiển thị bảng chọn ngày giờ đặt bàn-->
    <script src="https://cdn.jsdelivr.net/npm/air-datepicker@3.3.2/air-datepicker.min.js"></script>
    <script>
        new AirDatepicker('#reservationDate', {
            timepicker: true,
            locale: {
                days: ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'],
                daysShort: ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'],
                daysMin: ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'],
                months: ['Tháng 1', 'Tháng 2', 'Tháng 3', 'Tháng 4', 'Tháng 5', 'Tháng 6', 'Tháng 7', 'Tháng 8', 'Tháng 9', 'Tháng 10', 'Tháng 11', 'Tháng 12'],
                monthsShort: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12'],
                today: 'Hôm nay',
                clear: 'Xóa',
                dateFormat: 'dd/MM/yyyy',
                timeFormat: 'HH:mm',
                firstDay: 1
            },
            minDate: new Date(),
        });

        const cartData = @Html.Raw(
            Model?.Cart != null
            ? Json.Serialize(new
            {
                ReservationInformation = Model.Cart.ReservationInformation,
                CartItems = Model.Cart.CartItems.Select(item => new
                {
                    MenuItemID = item.MenuItemID,
                    Quantity = item.Quantity
                        }).ToList()
                    })
                    : "{}"
            );
        function buildCartJson() {
            console.log("DEBUG: Bắt đầu buildCartJson");


            // Log dữ liệu
            console.log("DEBUG: cartData trước khi stringify:", cartData);

            let cartInfoJson;
            try {
                cartInfoJson = JSON.stringify(cartData);
                console.log("DEBUG: Cart JSON gửi lên:", cartInfoJson);
            } catch (error) {
                console.error("DEBUG: Lỗi khi stringify JSON:", error.message);
                return JSON.stringify({ ReservationInformation: {}, CartItems: [] });
            }

            return cartInfoJson;
        }

        function submitCartToDishChecking() {
            console.log("DEBUG: Bắt đầu submitCartToDishChecking");

            const cartInfoJson = buildCartJson();

            // Kiểm tra nếu JSON rỗng
            if (cartInfoJson === JSON.stringify({ ReservationInformation: {}, CartItems: [] })) {
                console.warn("DEBUG: Giỏ hàng và thông tin đặt bàn rỗng, không gửi yêu cầu");
                alert("Giỏ hàng hoặc thông tin đặt bàn rỗng! Vui lòng kiểm tra.");
                return;
            }

            const url = '@Url.Action("DishChecking", "Reservation")';
            console.log("DEBUG: URL yêu cầu:", url);

            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: cartInfoJson
            })
                .then(response => {
                    console.log("DEBUG: Phản hồi từ server - Status:", response.status, "OK:", response.ok);
                    if (!response.ok) {
                        return response.text().then(errorText => {
                            console.error("DEBUG: Nội dung lỗi từ server:", errorText);
                            throw new Error(errorText || `Yêu cầu thất bại với mã trạng thái: ${response.status}`);
                        });
                    }
                    return response.text();
                })
                .then(html => {
                    if (!html || html.trim() === "") {
                        console.error("DEBUG: Phản hồi HTML rỗng hoặc không hợp lệ");
                        alert("Không nhận được nội dung hợp lệ từ server.");
                        return;
                    }
                    if (!html.includes("<!DOCTYPE") && !html.includes("<html")) {
                        console.error("DEBUG: Phản hồi không phải HTML:", html);
                        alert("Phản hồi từ server không phải trang HTML hợp lệ.");
                        return;
                    }
                    console.log("DEBUG: Nhận được HTML, bắt đầu tải view");
                    document.open();
                    document.write(html);
                    document.close();
                    console.log("DEBUG: View đã được tải");
                })
                .catch(error => {
                    console.error("DEBUG: Lỗi khi gửi JSON:", error.message);
                    alert("Có lỗi xảy ra khi gửi dữ liệu: " + error.message);
                });
        }

        function fetchAvailableTables() {
            let datetime = document.getElementById("reservationDate").value;
            let people = document.getElementById("people").value;
            let duration = document.getElementById("duration").value;

            if (!datetime || !people || !duration ) return; // Nếu chưa chọn đủ, không gửi yêu cầu

            fetch(`/Home/GetAvailableTables?datetime=${encodeURIComponent(datetime)}&people=${people}&duration=${duration}`)
                .then(response => {
                    console.log("Response Status:", response.status);
                    return response.text();  // Lấy raw response trước
                })
                .then(text => {
                    console.log("Raw Response:", text);  // Xem dữ liệu trước khi chuyển JSON
                    return text ? JSON.parse(text) : {}; // Chỉ parse nếu không rỗng
                })
                .then(data => {
                    console.log("Parsed JSON:", data); // Kiểm tra dữ liệu nhận được
                    let tableSelect = document.getElementById("table");
                    tableSelect.innerHTML = "<option value=''>Chọn bàn</option>";
                    data.forEach(table => {
                        tableSelect.innerHTML += `<option value="${table.tableID}">${table.tableName} - Sức chứa: ${table.capacity}</option>`;
                    });
                })
                .catch(error => console.error("Fetch Error:", error));
        }

        document.getElementById("reservationDate").addEventListener("change", fetchAvailableTables);
        document.getElementById("people").addEventListener("change", fetchAvailableTables);
        document.getElementById("duration").addEventListener("change", fetchAvailableTables);

        // Sample order data (simulating items already chosen)
        const orderItems = [

        @foreach (var item in Model ?.Cart.CartItems ?? new List<CartItem>())
            {
                <text>
                    {
                    id: "@item.MenuItemID",
                    name: "@item.MenuItem.Name",
                    quantity:"@item.Quantity",
                    description: "@item.MenuItem.Description",
                    price: "@(Convert.ToInt32(item.MenuItem.Price))", // Chuyển decimal về int
                    image: "@item.MenuItem.MenuItemImage",

                            },
                </text>   
            }
        ];
        console.log('orderItems:', orderItems);
        // Format price with thousand separators
        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + " đ";
        }

        // Render order items
        function renderOrderItems() {
            const orderItemsContainer = document.getElementById('order-items');
            orderItemsContainer.innerHTML = '';

            orderItems.forEach(item => {
                const itemTotal = item.price * item.quantity;
                const orderItemElement = document.createElement('div');
                orderItemElement.className = 'order-item';
                orderItemElement.innerHTML = `
                        <img src="/images/MenuItem/${item.image}" alt="${item.name}" class="item-image">
                    <div class="item-details">
                        <h3 class="item-name">${item.name}</h3>
                        <p class="item-description">${item.description}</p>
                        <div class="item-price-row">
                            <div>
                                <span class="item-quantity">${item.quantity}</span>
                                <span class="item-price">× ${formatPrice(item.price)}</span>
                            </div>
                            <span class="item-total">${formatPrice(itemTotal)}</span>
                        </div>
                    </div>
                `;
                orderItemsContainer.appendChild(orderItemElement);
            });
        }

        // Calculate and update order summary
        function updateOrderSummary() {
            const subtotal = orderItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = 0; // No discount in this example
            const tax = subtotal * 0.1;
            const total = subtotal - discount + tax;

            document.getElementById('subtotal').textContent = formatPrice(subtotal);
            document.getElementById('discount').textContent = formatPrice(discount);
            document.getElementById('tax').textContent = formatPrice(tax);
            document.getElementById('total').textContent = formatPrice(total);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderOrderItems();
            updateOrderSummary();

            // Add event listeners to buttons
            document.querySelector('.back-button').addEventListener('click', function() {
                alert('Quay lại thực đơn');
            });

            document.querySelector('.proceed-button').addEventListener('click', function() {
                alert('Tiến hành thanh toán');
            });
        });


    </script>

    <!--
      - ionicon link
    -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="assets/js/section.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const avatar = document.getElementById('avatarDropdown');
            const dropdownMenu = document.getElementById('userDropdown');

            if (avatar && dropdownMenu) {
                // Toggle dropdown khi click avatar
                avatar.addEventListener('click', (e) => {
                    e.stopPropagation(); // Ngăn click lan ra ngoài
                    dropdownMenu.classList.toggle('show');

                    // Add aria attributes for accessibility
                    const isExpanded = dropdownMenu.classList.contains('show');
                    avatar.setAttribute('aria-expanded', isExpanded.toString());
                });

                // Ẩn dropdown khi click ra ngoài
                document.addEventListener('click', (e) => {
                    if (dropdownMenu.classList.contains('show') &&
                        !avatar.contains(e.target) &&
                        !dropdownMenu.contains(e.target)) {
                        dropdownMenu.classList.remove('show');
                        avatar.setAttribute('aria-expanded', 'false');
                    }
                });

                // Ẩn dropdown khi nhấn ESC
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && dropdownMenu.classList.contains('show')) {
                        dropdownMenu.classList.remove('show');
                        avatar.setAttribute('aria-expanded', 'false');
                        avatar.focus(); // Return focus to avatar
                    }
                });

                // Prevent clicks inside dropdown from closing it
                dropdownMenu.addEventListener('click', (e) => {
                    // Only stop propagation if not clicking on a link
                    if (!e.target.closest('a')) {
                        e.stopPropagation();
                    }
                });
            }
        });

    </script>
</body>

</html>